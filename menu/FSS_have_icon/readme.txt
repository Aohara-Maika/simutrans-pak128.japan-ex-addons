【OTRPv39以降専用】KPI_Menubars_Versions8

・あいさつ
DLしたみなさんこんにちわ、DLありがとうございます。
飛行石を要求されたかみやんです。

・内容
くるり氏の「ぼくのかんがえたさいきょうのめにゅーぼたん拡張版」とふぃすたむ氏によって公開された「ぼくのかんがえたさいきょうのめにゅーぼたん拡張版256版」
とそれを改造して作られた、Ayura氏の「らくらくクリックくんVer2.1」とAhakuoku氏の「AHNSメニューバー」をさらに改造してつくった、
メニューバーです。使い方をしっかり理解して使わないとひどい目に合うので、ちゃんと目を通してください。

・テストした環境
OTRP v40_1 × 128jp
OTRPv35-1以降にしかない機能も実装したのでv35以降のバージョンでしか使えません!!また、OTRP側にv35-1のような変更が入った場合は使えなくなる場合がありますのでご注意ください!!
また、v6で追加した機能「dialog_tool[35]」は128jpに2024年1月24日現在該当アドオンが入ってないため現状使えません。

・ファイル配置
KPI_Menubars_Versions8.zipの中に、
"menuconf.tab"の入ったフォルダー4つとメニューボタンが入ったフォルダー、おまけフォルダーがあります。

・これをいれるとどうなるの?
このアドオンを入れると、"全ての乗り物"が基本的に、

駅(または停車場、港、スポット……など)
線路(または道路、滑走路)
信号(ないやつもあるよ!)
架線(モノレールやリニアは省略してます)

の順に分類されます。
なので、箱積み駅舎を入れまくっても、空港の景観設備を強化しても、信号機の種類を増やしても、大丈夫なような設計になると思います。。
また、ゲーム内スピードの上げ下げなどのボタンも作って実装しました。
さらに、間違って押してsimutransをクラッシュさせないように、マップ回転ボタンを封印しました。
Ayura氏のv2.1と256から輸入したアイコン等の追加で、機能の追加や配置のし直しなどを行なっています(が、基本的な操作は変わらないように配慮しています)。
そして、ひめし氏の「スクリプトツールのガイドライン」に沿った形に項目を加筆しています。(ただし、ほとんど実装されてないのでデバックが完全に不足しています。なので、OTRP正規指定品ではありません。)
さらにさらに、Ahakuoku氏が危険ツールの2段階ボタンを作ったのでそれもこっちに移植しました。(ライセンス上やってよかったので)

なお、一つ断っておかないといけないことがあります。
256ExともAyura氏とAhakuoku氏のボタン配置とも異なっており、"製作者が使いやすいと思った配置になっている"という点です。そこを了承したうえで使ってください。
また、標準サイズ「1920*1080」で使うことを前提にしてるのと作者PCで見切れないように整備しています。ご了承ください。
versions3から、「KtuBlack」が追加されました。かわごえ氏が作ったアイコン風のもので、ようはKshinのパチモンです。繰り返します。パチモンです。
ですが、輝度から白黒反転によって製作した完全新規品なので、Kshinとはリスペクトしただけで全く関係ないです。「256Black」ではなしえなかった、完全漆黒を目指し、完成したこちらのverもぜひよろしくお願いいたします。

・使い方
最初に、これを導入しようとして失敗しても自己責任でお願いします。そこを留意してください。
まず、絶対にバックアップを取ってください。万が一失敗した場合の為です。この作業はちょっとなれないと、鉄道のボタンなどが急になくなって焦る羽目になる上、最悪開かないので注意が必要です。
menu.BarTools.pak・menu.DialogeTools.pak・menu.GeneralTools.pak・menu.SimpleTools.pak・menuconf.tabの
5つのファイルをバックアップしてください。

バックアップが終わったら、上記5つのファイルを置き換えてください。全て置き換えないと、一部のボタンが出なくなってしまったりするので、注意してください。
"メニューボタン"フォルダに入っている4つのpakをpakフォルダに、menuconf.tabを"pakフォルダ内のconfig"に入れてください。
menuconf.tabは、「Normal」「Normal(SalvatorModel)」「KtuBlack(Counterfeit)」「KtuBlackPC(Counterfeit)」に入っています。どちらか一個のtabしか使えませんのでご注意ください。(共存できません。)
前回上げたものと含め、他の全てのメニューアドオンと互換性がありません。必ずすべて差し替えてください。(今回の正規版化でも若干変更してます。なので、入れ替えをお願いいたします。)

━ファイル配置図（pak128の例）━

simutrans ─ pak128 ─  menu.BarTools.pak
               │       menu.DialogeTools.pak
               │       menu.GeneralTools.pak
               │       menu.SimpleTools.pak
               │
               └─── config ─ menuconf.tab


↑↑↑上記の図も参考にして置き換え作業をしてください↑↑↑

・注意
横に長すぎるせいで、アイコンのサイズを大きくする表示設定にした場合などに見切れる危険性があります。ドラッグすると見切れている部分が使えます。
これはどうしようもないので、予めご了承ください。
v35-1用の追加で空き枠を使い切ってしまったため、v35-1以降追加機能分は付番法則無視です。ごめんなさい。

・改造元
くるり氏の「ぼくのかんがえたさいきょうのめにゅーぼたん拡張版」
Ayura氏の「らくらくクリックくんVer1.0、Ver2.0、Ver2.1」
ふぃすたむ氏によって公開された「ぼくのかんがえたさいきょうのめにゅーぼたん拡張版256版(正式名称不明の為仮名)」
Ahakuoku氏の「AHNSメニューバー」
です。また、レドメの一部もAyura氏の上記アドオンから一部引用して製作しました。すごくわかりやすくて参考になったので……
この場を借りて感謝申し上げます、ありがとうございました。

・改造について
アイコンは、pakかpak64で出力してください。
著作権については、Ayura氏のものと同じく、
https://creativecommons.org/licenses/by-nc-sa/4.0/
を参考して下さい。
営利目的は一切認められてません。

・最後に
こちらでもテストをいたしましたが、
問題があればソースファイルをつけるのでそこから治してください。

以上です。ここまでみてくださりありがとうございました。
たのしいシムトラライフを！

・更新履歴
2020年11月25日：初版落成。メニューボタン界隈、まだ熱くなりそうな予感……!!!
2020年12月01日：versions2β。アイコンは表示されるのにスクリプトを開始できないバグの影響で名前をβにしています。
2020年12月05日：versions2(正規)。アイコンは表示されるのにスクリプトを開始できない現象の原因を解明したため、おまけつきで復活。
2021年1月04日：versions3。script生成に対応。
2022年3月19日：versions3-F。不具合修正を行いました。具体的には、コメントアウトがうまくいってなかったせいでバグってた機能があったので治しました。ボタン新規追加で4公開予定。
2022年4月02日：versions4。OTRP側の変更に対応。USBメモリ増加(6色+α)。鉄道と路面電車をアドオン数増加により分離。AHNSツールバーからパクる形で危険ツールの2段階ボタンを実装。
2022年4月24日：versions4-A。Last_usedをひめし氏の指摘でようやく追加。
2023年8月27日：versions5。OTRP強化に伴う約1年ぶりの更新。v35-1以降の駅撤去に対応。
2024年1月24日：versions6。ペルリ摩周丸氏が「dialog_tool[35]」の存在に言及し発覚。該当項目の追加(ただし最終更新がとんでもなく昔の128jpに該当アドオンはないため現状準備工事)
2024年6月22日：versions7。OTRPv39のgeneral_tool[49](待機客強制帰宅)に対応。
2024年9月19日：versions8。OTRPv40のdialog_tool[36]に対応。一応本家側の[37]アイコンを準備工事。